
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>readfile</title><meta name="generator" content="MATLAB 9.9"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2020-11-07"><meta name="DC.source" content="readfile.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; }

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }
span.typesection { color:#A0522D }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>readfile</h1><!--introduction--><p><tt style="font-size:0%">Formatted documentation for the readfile function.</tt>
<div style="margin-top:-5em;color:grey">Read a UTF-8 or ANSI (US-ASCII) file.
</div>
<br>This function is aimed at providing a reliable method of reading a file. The backbone of this
function is fread, supplemented by the fileread function. These work in slightly different ways
and can be used under different circumstances. An attempt is made to detect the encoding (UTF-8
or ANSI), apply the transcoding and returning the file as an n-by-1 cell array for files with
n lines.
<br>You can redirect all outputs (errors only partially) to a file or a graphics object, so you
can more easily use this function in a GUI or allow it to write to a log file.
<br>
<br>The test for being UTF-8 can fail. For files with chars in the 128:255 range, the test will
often determine the encoding correctly, but it might fail, especially for files with encoding
errors. Online files are much more limited than offline files. To avoid this the files are
downloaded to tempdir() and deleted after reading. An additional fallback reads online files with
webread/urlread, although this will often result in an incorrect output. This should only be
relevant if there is no write access to the tempdir().
<br>
<br>The size of the char arrays may be different between Octave and Matlab. This is because
Matlab encodes characters internally with UTF-16 (see <a
href="https://www.mathworks.com/help/matlab/matlab_prog/unicode-and-ascii-values.html">this doc
page</a>), which means all 'normal' characters only take up a single 16&nbsp;bit value. <a
href="https://www.mathworks.com/help/matlab/matlab_env/how-the-matlab-process-uses-locale-settings.html">This
doc page</a> seems to suggest Matlab uses UTF-8 to encode chars, but appears to only be true for
file interactions. If you want to include higher Unicode code points (e.g. most emoji), some
characters will require 2 elements in a char array. Octave use UTF-8 to encode chars, but chars
with values 128-255 are supported <a
href="https://wiki.octave.org/International_Characters_Support">'by accident'</a>. This might
change at some point, but switching Octave to UTF-16 would require a lot of work, with the only
fundamental benefit being that size functions will return the same results between Matlab and
Octave. Judging by <a href="https://savannah.gnu.org/bugs/?49348">this discussion</a> in the
Octave bug tracker, I doubt this change will ever happen.
<br> It is therefore important to remember that a scalar char is not guaranteed to be a single
Unicode character, and that a single Unicode character is not guaranteed to be a single glyph.
</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Syntax</a></li><li><a href="#2">Output arguments</a></li><li><a href="#3">Input arguments</a></li><li><a href="#4">Name,Value pairs</a></li><li><a href="#5">Compatibility, version info, and licence</a></li></ul></div><h2 id="1">Syntax</h2><pre class="language-matlab">data=readfile(filename)
data=readfile(url)
data=readfile(___,options)
data=readfile(___,Name,Value)
</pre><h2 id="2">Output arguments</h2><p>
<table border=1>
<tr><td>
data
</td><td>
An n-by-1 cell array. it contains 1 cell per line in the file, even for empty lines.
<br>See the compatibility matrix below for details about which combinations of OS, runtime and
version are expected to return the correct output.
</td></tr>
</table>
</p><h2 id="3">Input arguments</h2><p>
<table border=1>
<tr><td>
filename
</td><td>
The relative or absolute path to a file.
</td></tr>
<tr><td>
url
</td><td>
The url to a file.
<br>An attempt will be made to download the file to the folder returned by tempdir(). After the
reading is completed (or fails) the file is deleted.
</td></tr>
<tr><td>
Name,Value
</td><td>
The settings below can be entered with a Name,Value syntax.
</td></tr>
<tr><td>
options
</td><td>
Instead of the Name,Value, parameters can also be entered in a struct. Missing fields will be set
to the default values.
</td></tr>
</table>
</p><h2 id="4">Name,Value pairs</h2><p>
<table border=1>
<tr><td>
print_to_con
</td><td>
A logical that controls whether warnings and other output will be printed to the command window.
Errors can't be turned off.
<br><code>default=true;</code> if either print_to_fid or print_to_obj is specified then <code>default=false;</code>
</td></tr>
<tr><td>
print_to_fid
</td><td>
The file identifier where console output will be printed. Errors and warnings will be printed
including the call stack. You can provide the fid for the command window (fid=1) to print
warnings as text. Errors will be printed to the specified file before being actually thrown.
<br>If both print_to_fid and print_to_obj are empty, this will have the effect of suppressing
every output except errors.
<br>This parameter does not affect warnings or errors during input parsing.
<br><code>default=[];</code>
</td></tr>
<tr><td>
print_to_obj
</td><td>
The handle to an object with a String property, e.g. an edit field in a GUI where console output
will be printed. Messages with newline characters (ignoring trailing newlines) will be returned
as a cell array. This includes warnings and errors, which will be printed without the call stack.
Errors will be written to the object before the error is actually thrown.
<br>If both print_to_fid and print_to_obj are empty, this will have the effect of suppressing
every output except errors.
<br>This parameter does not affect warnings or errors during input parsing.
<br><code>default=[];</code>
</td></tr>
<tr><td>
err_on_ANSI
</td><td>
If set to true, an error will be thrown when the input file is not recognized as UTF-8 encoded.
This should normally not be an issue, as ANSI files can be read as well with this function.
<br>If both print_to_fid and print_to_obj are empty, this will have the effect of suppressing
every output except errors.
<br><code>default=false;</code>
</td></tr>
</table>
</p><h2 id="5">Compatibility, version info, and licence</h2><p>
<table>
<tr>
<td> Compatibility </td>
<td style="border:2px solid black;"> Windows 10 </td>
<td style="border:2px solid black;"> Ubuntu 20.04 LTS </td>
<td style="border:2px solid black;"> MacOS 10.15 Catalina </td>
</tr>
<tr>
<td style="border:2px solid black;"> ML R2020b </td>
<td> works </td>
<td> not tested </td>
<td> not tested </td>
</tr>
<tr>
<td style="border:2px solid black;"> ML R2018a </td>
<td> works </td>
<td> works </td>
<td> not tested </td>
</tr>
<tr>
<td style="border:2px solid black;"> ML R2015a </td>
<td> works </td>
<td> works </td>
<td> not tested </td>
</tr>
<tr>
<td style="border:2px solid black;"> ML R2011a </td>
<td> works </td>
<td> works </td>
<td> not tested </td>
</tr>
<tr>
<td style="border:2px solid black;"> ML 6.5 (R13) </td>
<td> works </td>
<td> not tested </td>
<td> not tested </td>
</tr>
<tr>
<td style="border:2px solid black;"> Octave 5.2.0 </td>
<td> works </td>
<td> works </td>
<td> not tested </td>
</tr>
<tr>
<td style="border:2px solid black;"> Octave 4.4.1 </td>
<td> works </td>
<td> not tested </td>
<td> works </td>
</tr>
</table>
</p><pre>Version: 3.0.0
Date:    2020-11-07
Author:  H.J. Wisselink
Licence: CC by-nc-sa 4.0 ( https://creativecommons.org/licenses/by-nc-sa/4.0 )
Email = 'h_j_wisselink*alumnus_utwente_nl';
Real_email = regexprep(Email,{'*','_'},{'@','.'})</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2020b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% readfile
%
% <html><tt style="font-size:0%">Formatted documentation for the readfile function.</tt>
% <div style="margin-top:-5em;color:grey">Read a UTF-8 or ANSI (US-ASCII) file.
% </div>
% <br>This function is aimed at providing a reliable method of reading a file. The backbone of this
% function is fread, supplemented by the fileread function. These work in slightly different ways
% and can be used under different circumstances. An attempt is made to detect the encoding (UTF-8
% or ANSI), apply the transcoding and returning the file as an n-by-1 cell array for files with
% n lines.
% <br>You can redirect all outputs (errors only partially) to a file or a graphics object, so you
% can more easily use this function in a GUI or allow it to write to a log file.
% <br>
% <br>The test for being UTF-8 can fail. For files with chars in the 128:255 range, the test will
% often determine the encoding correctly, but it might fail, especially for files with encoding
% errors. Online files are much more limited than offline files. To avoid this the files are
% downloaded to tempdir() and deleted after reading. An additional fallback reads online files with
% webread/urlread, although this will often result in an incorrect output. This should only be
% relevant if there is no write access to the tempdir().
% <br>
% <br>The size of the char arrays may be different between Octave and Matlab. This is because
% Matlab encodes characters internally with UTF-16 (see <a
% href="https://www.mathworks.com/help/matlab/matlab_prog/unicode-and-ascii-values.html">this doc
% page</a>), which means all 'normal' characters only take up a single 16&nbsp;bit value. <a
% href="https://www.mathworks.com/help/matlab/matlab_env/how-the-matlab-process-uses-locale-settings.html">This
% doc page</a> seems to suggest Matlab uses UTF-8 to encode chars, but appears to only be true for
% file interactions. If you want to include higher Unicode code points (e.g. most emoji), some
% characters will require 2 elements in a char array. Octave use UTF-8 to encode chars, but chars
% with values 128-255 are supported <a
% href="https://wiki.octave.org/International_Characters_Support">'by accident'</a>. This might
% change at some point, but switching Octave to UTF-16 would require a lot of work, with the only
% fundamental benefit being that size functions will return the same results between Matlab and
% Octave. Judging by <a href="https://savannah.gnu.org/bugs/?49348">this discussion</a> in the
% Octave bug tracker, I doubt this change will ever happen.
% <br> It is therefore important to remember that a scalar char is not guaranteed to be a single
% Unicode character, and that a single Unicode character is not guaranteed to be a single glyph.
% </html>

%% Syntax
%
%   data=readfile(filename)
%   data=readfile(url)
%   data=readfile(___,options)
%   data=readfile(___,Name,Value)

%% Output arguments
%
% <html>
% <table border=1>
% <tr><td>
% data
% </td><td>
% An n-by-1 cell array. it contains 1 cell per line in the file, even for empty lines.
% <br>See the compatibility matrix below for details about which combinations of OS, runtime and
% version are expected to return the correct output.
% </td></tr>
% </table>
% </html>

%% Input arguments
%
% <html>
% <table border=1>
% <tr><td>
% filename
% </td><td>
% The relative or absolute path to a file.
% </td></tr>
% <tr><td>
% url
% </td><td>
% The url to a file.
% <br>An attempt will be made to download the file to the folder returned by tempdir(). After the
% reading is completed (or fails) the file is deleted.
% </td></tr>
% <tr><td>
% Name,Value
% </td><td>
% The settings below can be entered with a Name,Value syntax.
% </td></tr>
% <tr><td>
% options
% </td><td>
% Instead of the Name,Value, parameters can also be entered in a struct. Missing fields will be set
% to the default values.
% </td></tr>
% </table>
% </html>

%% Name,Value pairs
%
% <html>
% <table border=1>
% <tr><td>
% print_to_con
% </td><td>
% A logical that controls whether warnings and other output will be printed to the command window.
% Errors can't be turned off.
% <br><code>default=true;</code> if either print_to_fid or print_to_obj is specified then <code>default=false;</code>
% </td></tr>
% <tr><td>
% print_to_fid
% </td><td>
% The file identifier where console output will be printed. Errors and warnings will be printed
% including the call stack. You can provide the fid for the command window (fid=1) to print
% warnings as text. Errors will be printed to the specified file before being actually thrown.
% <br>If both print_to_fid and print_to_obj are empty, this will have the effect of suppressing
% every output except errors.
% <br>This parameter does not affect warnings or errors during input parsing.
% <br><code>default=[];</code>
% </td></tr>
% <tr><td>
% print_to_obj
% </td><td>
% The handle to an object with a String property, e.g. an edit field in a GUI where console output
% will be printed. Messages with newline characters (ignoring trailing newlines) will be returned
% as a cell array. This includes warnings and errors, which will be printed without the call stack.
% Errors will be written to the object before the error is actually thrown.
% <br>If both print_to_fid and print_to_obj are empty, this will have the effect of suppressing
% every output except errors.
% <br>This parameter does not affect warnings or errors during input parsing.
% <br><code>default=[];</code>
% </td></tr>
% <tr><td>
% err_on_ANSI
% </td><td>
% If set to true, an error will be thrown when the input file is not recognized as UTF-8 encoded.
% This should normally not be an issue, as ANSI files can be read as well with this function.
% <br>If both print_to_fid and print_to_obj are empty, this will have the effect of suppressing
% every output except errors.
% <br><code>default=false;</code>
% </td></tr>
% </table>
% </html>

%% Compatibility, version info, and licence
%
% <html>
% <table>
% <tr>
% <td> Compatibility </td>
% <td style="border:2px solid black;"> Windows 10 </td>
% <td style="border:2px solid black;"> Ubuntu 20.04 LTS </td>
% <td style="border:2px solid black;"> MacOS 10.15 Catalina </td>
% </tr>
% <tr>
% <td style="border:2px solid black;"> ML R2020b </td>
% <td> works </td>
% <td> not tested </td>
% <td> not tested </td>
% </tr>
% <tr>
% <td style="border:2px solid black;"> ML R2018a </td>
% <td> works </td>
% <td> works </td>
% <td> not tested </td>
% </tr>
% <tr>
% <td style="border:2px solid black;"> ML R2015a </td>
% <td> works </td>
% <td> works </td>
% <td> not tested </td>
% </tr>
% <tr>
% <td style="border:2px solid black;"> ML R2011a </td>
% <td> works </td>
% <td> works </td>
% <td> not tested </td>
% </tr>
% <tr>
% <td style="border:2px solid black;"> ML 6.5 (R13) </td>
% <td> works </td>
% <td> not tested </td>
% <td> not tested </td>
% </tr>
% <tr>
% <td style="border:2px solid black;"> Octave 5.2.0 </td>
% <td> works </td>
% <td> works </td>
% <td> not tested </td>
% </tr>
% <tr>
% <td style="border:2px solid black;"> Octave 4.4.1 </td>
% <td> works </td>
% <td> not tested </td>
% <td> works </td>
% </tr>
% </table>
% </html>
%
%  Version: 3.0.0
%  Date:    2020-11-07
%  Author:  H.J. Wisselink
%  Licence: CC by-nc-sa 4.0 ( https://creativecommons.org/licenses/by-nc-sa/4.0 )
%  Email = 'h_j_wisselink*alumnus_utwente_nl';
%  Real_email = regexprep(Email,{'*','_'},{'@','.'})

##### SOURCE END #####
--></body></html>